<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sif="clr-namespace:SkinInterfaces.Converters;assembly=DataInterfaces"
                    xmlns:lex="clr-namespace:Localization.Extensions;assembly=DataInterfaces"
                    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
                    xmlns:sc="clr-namespace:MaterialDesignSkin.Converters"
                    xmlns:ss="clr-namespace:MaterialDesignSkin.Source">
    <sif:DoubleSecondsToHoursConverter x:Key="DoubleSecondsToHoursConverter" />
    <sif:NullImageSourceConverter x:Key="NullImageSourceConverter" />
    <sif:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    <sif:BoolToHiddenConverter x:Key="BoolToHiddenConverter" />
    <sif:EnumMatchToBooleanConverter x:Key="EnumMatchToBooleanConverter" />
    <sif:FlagsEnumValueConverter x:Key="FlagsEnumValueConverter" />
    <sif:FlagsEnumValueVisibilityConverter x:Key="FlagsEnumValueVisibilityConverter" />
    <sif:CountGreaterOrEqualConverter x:Key="CountGreaterOrEqualConverter" />
    <sif:EmumValueGreaterOrEqualConverter x:Key="EmumValueGreaterOrEqualConverter" />
    <sif:ToUpperConverter x:Key="ToUpperConverter" />
    <sif:BoolAnyConverter x:Key="BoolAnyConverter" />
    <sif:NullVisibilityConverter x:Key="NullVisibilityConverter" />
    <sif:StringCompareMultiValueConverter x:Key="StringCompareMultiValueConverter" />
    <sif:ValueGreaterConverter x:Key="ValueGreaterConverter" />
    <sif:ValueLessConverter x:Key="ValueLessConverter" />
    <sif:CountToVisibilityConverter x:Key="CountToVisibilityConverter" />
    <sif:HTMLToFlowDocumentConverter x:Key="HTMLConverter" />
    <sc:AppExePopupConverter x:Key="AppExePopupConverter" />
    <Style TargetType="Button"
           BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="md:RippleAssist.IsDisabled"
                Value="True" />
        <Setter Property="md:ShadowAssist.ShadowDepth"
                Value="Depth0" />
    </Style>
    <Style TargetType="ListBoxItem"
           BasedOn="{StaticResource {x:Type ListBoxItem}}">
        <Setter Property="md:RippleAssist.IsDisabled"
                Value="True" />
    </Style>
    <Style TargetType="ItemsControl">
        <Setter Property="VirtualizingStackPanel.IsVirtualizing"
                Value="True" />
        <Setter Property="VirtualizingPanel.VirtualizationMode"
                Value="Recycling" />
        <Setter Property="ScrollViewer.CanContentScroll"
                Value="True" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility"
                Value="Hidden" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Horizontal"
                                            IsItemsHost="True" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ItemsControl">
                    <ScrollViewer>
                        <ItemsPresenter />
                    </ScrollViewer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="ToolTip"
           BasedOn="{StaticResource {x:Type ToolTip}}">
        <Setter Property="HasDropShadow"
                Value="True" />
        <Setter Property="Background"
                Value="{StaticResource MaterialDesignCardBackground}" />
    </Style>
    <Style x:Key="_NO_IMAGE_ICON_STYLE"
           TargetType="md:PackIcon">
        <Setter Property="Visibility"
                Value="Hidden" />
        <Setter Property="Opacity"
                Value="0.5" />
        <Setter Property="VerticalAlignment"
                Value="Center" />
        <Setter Property="HorizontalAlignment"
                Value="Center" />
        <Setter Property="Width"
                Value="64" />
        <Setter Property="Height"
                Value="64" />
        <Setter Property="Kind"
                Value="FileImage" />
        <Style.Triggers>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding ImageData.Result}"
                               Value="{x:Null}" />
                    <Condition Binding="{Binding ImageData.IsCompleted}"
                               Value="True" />
                </MultiDataTrigger.Conditions>
                <Setter Property="Visibility"
                        Value="Visible" />
            </MultiDataTrigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="_APP_DISPLAY_ROOT_BORDER_STYLE"
           TargetType="Border">
        <Setter Property="Background"
                Value="{StaticResource MaterialDesignCardBackground}" />
        <Setter Property="Effect"
                Value="{ss:SkinShadow MaterialDesignShadowDepth1}" />
        <Setter Property="Margin"
                Value="4" />
        <Setter Property="BorderThickness"
                Value="0" />
        <Setter Property="Padding"
                Value="0" />
        <Setter Property="Width"
                Value="200" />
        <Setter Property="MaxWidth"
                Value="200" />
        <Setter Property="Cursor"
                Value="Hand" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Background">
                    <Setter.Value>
                        <SolidColorBrush Color="Black" />
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="_ANIMATED_SEPERATOR"
           TargetType="Separator">
        <Setter Property="Opacity"
                Value="0.2" />
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver,RelativeSource={RelativeSource AncestorType=Border}}"
                         Value="True">
                <Setter Property="Background"
                        Value="Black" />
                <Setter Property="Background"
                        Value="YellowGreen" />
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.500"
                                             To="1"
                                             Storyboard.TargetProperty="Opacity" />
                            <ColorAnimation Duration="0:0:0.500"
                                            From="Black"
                                            To="YellowGreen"
                                            Storyboard.TargetProperty="(Separator.Background).(SolidColorBrush.Color)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.500"
                                             To="0.2"
                                             Storyboard.TargetProperty="Opacity" />
                            <ColorAnimation Duration="0:0:0.500"
                                            From="YellowGreen"
                                            To="Black"
                                            Storyboard.TargetProperty="(Separator.Background).(SolidColorBrush.Color)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <DataTemplate x:Key="_APP_DISPLAY_BASE_IMAGE_TEMPLATE">
        <Grid>
            <Image VerticalAlignment="Stretch"
                   HorizontalAlignment="Stretch"
                   Stretch="Fill"
                   Height="280"
                   Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
            <md:PackIcon Grid.RowSpan="1"
                         Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
            <ProgressBar Margin="8"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         IsIndeterminate="True"
                         Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                         Style="{StaticResource MaterialDesignCircularProgressBar}" />
            <Border Opacity="0"
                    x:Name="_BACKGROUND_BORDER">
                <Border.Background>
                    <SolidColorBrush Color="Black"
                                     Opacity="0.5" />
                </Border.Background>
            </Border>
            <Border Name="_ACTIONS_BORDER"
                    Background="Transparent"
                    Opacity="0"
                    Margin="0,0,0,32"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Stretch">
                <StackPanel Margin="8"
                            VerticalAlignment="Center">
                    <Button Margin="2"
                            x:Name="_PLAY_BUTTON"
                            Background="YellowGreen"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            Command="{Binding ExecuteCommand}"
                            BorderThickness="0">
                        <Button.Style>
                            <Style TargetType="Button"
                                   BasedOn="{StaticResource MaterialDesignRaisedLightButton}">
                                <Setter Property="Content"
                                        Value="{lex:LocTextUpper Key=APP_PLAY}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding DefaultExecutable.IsActive}"
                                                 Value="True">
                                        <Setter Property="Content"
                                                Value="{lex:LocTextUpper Key=APP_CANCEL}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding DefaultExecutable.IsActive}"
                                                 Value="False">
                                        <Setter Property="Content"
                                                Value="{lex:LocTextUpper Key=APP_PLAY}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>
            </Border>
            <ProgressBar Background="Black"
                         DataContext="{Binding DefaultExecutable}"
                         VerticalAlignment="Bottom"
                         Foreground="YellowGreen"
                         Visibility="{Binding IsActive,Converter={StaticResource BoolToHiddenConverter}}"
                         Value="{Binding Progress}"
                         IsIndeterminate="{Binding IsIndeterminate}"
                         BorderThickness="0" />
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver,ElementName=_TEMPLATE_ROOT}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ACTIONS_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_BACKGROUND_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_ACTIONS_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_BACKGROUND_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_TOP_RATED_TEMPLATE">
        <Border Style="{StaticResource _APP_DISPLAY_ROOT_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <md:RatingBar Grid.Row="2"
                              Value="{Binding UserRating,Mode=TwoWay}"
                              Margin="8,2,8,2" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_RATES}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalRates}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_RATING}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding Rating}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_MOST_POPULAR_TEMPLATE">
        <Border Style="{StaticResource _APP_DISPLAY_ROOT_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_TIME}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalExecutionTime,Converter={StaticResource DoubleSecondsToHoursConverter}}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_RUN}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding TotalExecutions}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_NEW_TEMPLATE">
        <Border Style="{StaticResource _APP_DISPLAY_ROOT_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <Separator Grid.Row="2"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_ADD_DATE}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0"
                               Grid.ColumnSpan="1" />
                    <TextBlock Text="{Binding AddDate,StringFormat=d}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.ColumnSpan="2" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_LIST_TEMPLATE">
        <Border Style="{StaticResource _APP_DISPLAY_ROOT_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <md:RatingBar Grid.Row="2"
                              Value="{Binding UserRating,Mode=TwoWay}"
                              Margin="8,2,8,2" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="RATES"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalRates}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="RATING"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding Rating}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_EXE_TEMPLATE">
        <Grid Background="Transparent">
            <Button Style="{StaticResource MaterialDesignFlatButton}"
                    md:RippleAssist.IsDisabled="True"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="500"
                    Padding="0"
                    Width="64"
                    Height="64"
                    x:Name="_TEMPLATE_BUTTON"
                    Visibility="{Binding ExecutableFileExists.Result,Converter={StaticResource BoolToVisibilityConverter}}"
                    Command="{Binding ExecuteCommand}">
                <Grid>
                    <Grid x:Name="_ICON_IMAGE">
                        <Grid.RenderTransform>
                            <ScaleTransform CenterX="24"
                                            CenterY="24"
                                            x:Name="_IMAGE_TRANSFORM" />
                        </Grid.RenderTransform>
                        <Image VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Width="48"
                               Height="48"
                               RenderOptions.BitmapScalingMode="HighQuality"
                               RenderOptions.EdgeMode="Unspecified"
                               Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
                        <md:PackIcon Grid.RowSpan="1"
                                     Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
                        <ProgressBar Margin="8"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     IsIndeterminate="True"
                                     Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                     Style="{StaticResource MaterialDesignCircularProgressBar}" />
                    </Grid>
                    <ProgressBar Grid.Row="1"
                                 VerticalAlignment="Bottom"
                                 BorderThickness="0"
                                 Background="Black"
                                 Foreground="YellowGreen"
                                 Margin="4"
                                 IsIndeterminate="{Binding IsIndeterminate}"
                                 Value="{Binding Progress}"
                                 Height="4"
                                 HorizontalAlignment="Stretch"
                                 x:Name="_EXECUTION_PROGRESS"
                                 Style="{StaticResource MaterialDesignLinearProgressBar}">
                        <ProgressBar.RenderTransform>
                            <ScaleTransform CenterX="24"
                                            CenterY="24"
                                            ScaleX="0"
                                            ScaleY="0"
                                            x:Name="_PROGRESS_TRANSFORM" />
                        </ProgressBar.RenderTransform>
                    </ProgressBar>
                </Grid>
            </Button>
            <Popup Placement="Custom"
                   PopupAnimation="None"
                   CustomPopupPlacementCallback="{x:Static md:ToolTipAssist.CustomPopupPlacementCallback}"
                   VerticalOffset="0"
                   AllowsTransparency="True"
                   HorizontalAlignment="Stretch">
                <Popup.IsOpen>
                    <ss:DelayedMultiBindingExtension Delay="0:0:0.05"
                                                     Converter="{StaticResource AppExePopupConverter}">
                        <Binding Path="IsMouseOver"
                                 RelativeSource="{RelativeSource AncestorType=Grid}"
                                 Mode="OneWay" />
                        <Binding Path="IsMouseOver"
                                 RelativeSource="{RelativeSource Self}"
                                 Mode="OneWay" />
                        <Binding Path="IsOverlayShowing"
                                 Mode="OneWay" />
                    </ss:DelayedMultiBindingExtension>
                </Popup.IsOpen>
                <Border CornerRadius="4"
                        Margin="4"
                        VerticalAlignment="Top"
                        Effect="{ss:SkinShadow MaterialDesignShadowDepth1}"
                        Background="{StaticResource MaterialDesignCardBackground}">
                    <Grid Margin="4">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="0"
                                   Margin="4"
                                   TextWrapping="Wrap"
                                   FontWeight="Medium"
                                   Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                                   Foreground="White"
                                   Text="{Binding Caption}" />
                        <TextBlock Text="{Binding App.Title}"
                                   Grid.Row="1"
                                   Margin="4"
                                   TextWrapping="Wrap"
                                   FontWeight="Light"
                                   Foreground="White">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock"
                                       BasedOn="{StaticResource MaterialDesignBody1TextBlock}">
                                    <Style.Triggers>
                                        <DataTrigger Value="True">
                                            <DataTrigger.Binding>
                                                <MultiBinding Converter="{StaticResource StringCompareMultiValueConverter}">
                                                    <Binding Path="Caption" />
                                                    <Binding Path="App.Title" />
                                                </MultiBinding>
                                            </DataTrigger.Binding>
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style></TextBlock>
                        <Button Margin="2"
                                Grid.Row="2"
                                Background="YellowGreen"
                                x:Name="_PLAY_BUTTON"
                                Content="{lex:LocTextUpper Key=APP_DETAIL}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                Command="{Binding App.DetailsCommand}"
                                BorderThickness="0">
                        </Button>
                    </Grid>
                </Border>
            </Popup>
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsActive}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0.8"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0.8"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ICON_IMAGE"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseIn" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseIn" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ICON_IMAGE"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
            <DataTrigger Binding="{Binding IsActive}"
                         Value="False"></DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="_APP_EXE_DETAIL_TEMPLATE">
        <Border Margin="8,8,8,0"
                Width="320"
                Effect="{ss:SkinShadow MaterialDesignShadowDepth1}"
                CornerRadius="2"
                Background="{StaticResource MaterialDesignCardBackground}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Button Grid.Row="0"
                        Visibility="Visible"
                        Height="96"
                        md:RippleAssist.IsDisabled="True"
                        VerticalContentAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        Command="{Binding ExecuteCommand}"
                        Style="{StaticResource MaterialDesignFlatButton}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid x:Name="_ICON_IMAGE"
                              Margin="2"
                              Grid.RowSpan="2">
                            <Image VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Width="64"
                                   Height="64"
                                   Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
                            <md:PackIcon Grid.RowSpan="1"
                                         Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
                            <ProgressBar Margin="8"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         IsIndeterminate="True"
                                         Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                         Style="{StaticResource MaterialDesignCircularProgressBar}" />
                        </Grid>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="1"
                                   Margin="4,0,0,0"
                                   Text="PLAY"
                                   VerticalAlignment="Bottom"
                                   FontWeight="Bold"
                                   Foreground="GreenYellow"
                                   Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="1"
                                   Margin="4,0,0,0"
                                   VerticalAlignment="Top"
                                   FontWeight="SemiBold"
                                   Text="{Binding Caption}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" />
                        <ProgressBar Grid.Row="2"
                                     Foreground="YellowGreen"
                                     md:TransitionAssist.DisableTransitions="True"
                                     IsIndeterminate="{Binding IsIndeterminate}"
                                     Value="{Binding Progress}"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Stretch"
                                     Grid.ColumnSpan="2"
                                     Margin="2">
                            <ProgressBar.RenderTransform>
                                <ScaleTransform CenterX="24"
                                                CenterY="24"
                                                ScaleX="0"
                                                ScaleY="0"
                                                x:Name="_PROGRESS_TRANSFORM" />
                            </ProgressBar.RenderTransform>
                        </ProgressBar>
                    </Grid>
                </Button>
                <Button Style="{StaticResource MaterialDesignFlatButton}"
                        md:RippleAssist.IsDisabled="True"
                        Visibility="{Binding IsEnabled,RelativeSource={RelativeSource Self},Converter={StaticResource BoolToVisibilityConverter}}"
                        Padding="4"
                        Command="{Binding TerminateCommand}"
                        VerticalAlignment="Top"
                        HorizontalAlignment="Right">
                    <Button.Content>
                        <md:PackIcon Width="24"
                                     Height="24"
                                     Kind="CloseCircleOutline" />
                    </Button.Content>
                </Button>
                <GridSplitter Grid.Row="1"
                              Height="0.5"
                              IsEnabled="False"
                              HorizontalAlignment="Stretch"
                              Background="Black"
                              VerticalAlignment="Center"
                              Opacity="0.5" />
                <StackPanel Grid.Row="2"
                            Orientation="Horizontal">
                    <CheckBox Margin="2"
                              IsChecked="{Binding AutoStart}"
                              Content="Autostart" />
                    <Button Margin="2"
                            Command="{Binding ResetCommand}"
                            Style="{StaticResource MaterialDesignFlatButton}">
                        <StackPanel Orientation="Horizontal">
                            <md:PackIcon VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Kind="Refresh"
                                         Margin="4" />
                            <TextBlock Text="Reset"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left" />
                        </StackPanel>
                    </Button>
                    <Button Margin="2"
                            Style="{StaticResource MaterialDesignFlatButton}">
                        <StackPanel Orientation="Horizontal">
                            <md:PackIcon VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Kind="Folder"
                                         Margin="4" />
                            <TextBlock Text="Personal files"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsActive}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <BitmapImage x:Key="_BACKGROUND_LOGIN"
                 UriSource="Images/BACKGROUND_LOGIN.jpg" />
    <BitmapImage x:Key="_BACKGROUND_DESKTOP"
                 UriSource="Images/BACKGROUND_DESKTOP.jpg" />
</ResourceDictionary>