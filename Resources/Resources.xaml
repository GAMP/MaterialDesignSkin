<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:sif="clr-namespace:SkinInterfaces;assembly=DataInterfaces"
                    xmlns:sifc="clr-namespace:SkinInterfaces.Converters;assembly=DataInterfaces"
                    xmlns:lex="clr-namespace:Localization.Extensions;assembly=DataInterfaces"
                    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
                    xmlns:wd="clr-namespace:System.Windows.Data;assembly=DataInterfaces"
                    xmlns:sc="clr-namespace:MaterialDesignSkin.Converters"
                    xmlns:lc="clr-namespace:MaterialDesignSkin.Controls"
                    xmlns:ss="clr-namespace:MaterialDesignSkin.Source">
    
    <sifc:FlagsEnumValueConverter x:Key="FlagsEnumValueConverter"
                                  x:Shared="False" />
    <sifc:FlagsEnumValueVisibilityConverter x:Key="FlagsEnumValueVisibilityConverter"
                                            x:Shared="False" />
    <sifc:DoubleSecondsToHoursConverter x:Key="DoubleSecondsToHoursConverter" />
    <sifc:NullImageSourceConverter x:Key="NullImageSourceConverter" />
    <sifc:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter" />
    <sifc:BoolToHiddenConverter x:Key="BoolToHiddenConverter" />
    <sifc:EnumMatchToBooleanConverter x:Key="EnumMatchToBooleanConverter" />
    <sifc:CountGreaterOrEqualConverter x:Key="CountGreaterOrEqualConverter" />
    <sifc:EnumValueGreaterOrEqualConverter x:Key="EmumValueGreaterOrEqualConverter" />
    <sifc:ToUpperConverter x:Key="ToUpperConverter" />
    <sifc:BoolAnyConverter x:Key="BoolAnyConverter" />
    <sifc:NullVisibilityConverter x:Key="NullVisibilityConverter" />
    <sifc:StringCompareMultiValueConverter x:Key="StringCompareMultiValueConverter" />
    <sifc:ValueGreaterConverter x:Key="ValueGreaterConverter" />
    <sifc:ValueLessConverter x:Key="ValueLessConverter" />
    <sifc:CountToVisibilityConverter x:Key="CountToVisibilityConverter" />
    <sifc:HTMLToFlowDocumentConverter x:Key="HTMLConverter" />
    <sc:ImageSourceToBitmapConverter x:Key="ImageSourceToBitmapConverter" />
    <sc:AppExePopupConverter x:Key="AppExePopupConverter" />
    <ss:NewsTemplateSelector x:Key="NewsTemplateSelector" />


    <!--DEFAULT BACKGROUND IMAGE RESOURCES-->

    <BitmapImage x:Key="_BACKGROUND_LOGIN"
                 UriSource="Images/BACKGROUND_LOGIN.jpg" />
    <BitmapImage x:Key="_BACKGROUND_DESKTOP"
                 UriSource="Images/BACKGROUND_DESKTOP.jpg" />

    <!--YOU CAN OVERRIDE STYLES HERE-->

    <!--<SolidColorBrush x:Key="MaterialDesignCardBackground" Color="#295383"/>
    <SolidColorBrush x:Key="MaterialDesignDarkBackground" Color="#2953b4"/>-->
    <!--<FontFamily x:Key="MaterialDesignFont">../Fonts/Play/#Play</FontFamily>-->

    <!--<Style TargetType="TextBlock"
           x:Key="MaterialDesignTitleTextBlock"
           BasedOn="{StaticResource MaterialDesignCaptionTextBlock}" />
    <Style TargetType="TextBlock"
           x:Key="MaterialDesignDisplay1TextBlock"
           BasedOn="{StaticResource MaterialDesignHeadline6TextBlock}" />
    <Style TargetType="TextBlock"
           x:Key="MaterialDesignSubheadingTextBlock"
           BasedOn="{StaticResource MaterialDesignHeadline6TextBlock}" />
    <Style TargetType="TextBlock"
           x:Key="MaterialDesignHeadlineTextBlock"
           BasedOn="{StaticResource MaterialDesignHeadline6TextBlock}" />-->

    <Style TargetType="Button"
           BasedOn="{StaticResource {x:Type Button}}">
        <Setter Property="md:RippleAssist.IsDisabled"
                Value="True" />
        <Setter Property="md:ShadowAssist.ShadowDepth"
                Value="Depth0" />
    </Style>
    <Style TargetType="ListBoxItem"
           BasedOn="{StaticResource {x:Type ListBoxItem}}">
        <Setter Property="md:RippleAssist.IsDisabled"
                Value="True" />
    </Style>
    <Style TargetType="ItemsControl"
           BasedOn="{StaticResource {x:Type ItemsControl}}">
        <Setter Property="VirtualizingStackPanel.IsVirtualizing"
                Value="True" />
        <Setter Property="VirtualizingPanel.VirtualizationMode"
                Value="Recycling" />
        <Setter Property="ScrollViewer.CanContentScroll"
                Value="True" />
        <Setter Property="ScrollViewer.VerticalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility"
                Value="Disabled" />
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <ItemsPanelTemplate>
                    <VirtualizingStackPanel Orientation="Horizontal"
                                            IsItemsHost="True" />
                </ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="ItemsControl">
                    <ScrollViewer>
                        <ItemsPresenter />
                    </ScrollViewer>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    <Style TargetType="Hyperlink"
           BasedOn="{StaticResource {x:Type Hyperlink}}">
        <Setter Property="Foreground"
                Value="YellowGreen" />
        <Setter Property="TextBlock.TextDecorations"
                Value="{x:Null}" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Foreground"
                        Value="White" />
            </Trigger>
            <Trigger Property="IsEnabled"
                     Value="False">
                <Setter Property="Foreground"
                        Value="White" />
            </Trigger>
        </Style.Triggers>
    </Style>
    <Style TargetType="ToolTip"
           BasedOn="{StaticResource {x:Type ToolTip}}">
        <Setter Property="HasDropShadow"
                Value="True" />
        <Setter Property="Background"
                Value="{StaticResource MaterialDesignCardBackground}" />
    </Style>
    <Style x:Key="_NO_IMAGE_ICON_STYLE"
           TargetType="md:PackIcon">
        <Setter Property="Visibility"
                Value="Hidden" />
        <Setter Property="Opacity"
                Value="0.5" />
        <Setter Property="VerticalAlignment"
                Value="Center" />
        <Setter Property="HorizontalAlignment"
                Value="Center" />
        <Setter Property="Width"
                Value="64" />
        <Setter Property="Height"
                Value="64" />
        <Setter Property="Kind"
                Value="FileImage" />
        <Style.Triggers>
            <MultiDataTrigger>
                <MultiDataTrigger.Conditions>
                    <Condition Binding="{Binding ImageData.Result}"
                               Value="{x:Null}" />
                    <Condition Binding="{Binding ImageData.IsCompleted}"
                               Value="True" />
                </MultiDataTrigger.Conditions>
                <Setter Property="Visibility"
                        Value="Visible" />
            </MultiDataTrigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="_CARD_BORDER_STYLE"
           TargetType="Border">
        <Setter Property="Background"
                Value="{StaticResource MaterialDesignCardBackground}" />
        <Setter Property="Effect"
                Value="{ss:SkinShadow MaterialDesignShadowDepth1}" />
        <Setter Property="Margin"
                Value="4" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="BorderBrush">
            <Setter.Value>
                <SolidColorBrush Color="Black"
                                 Opacity="0.2" />
            </Setter.Value>
        </Setter>
        <Setter Property="Padding"
                Value="0" />
        <Setter Property="Width"
                Value="200" />
        <Setter Property="MaxWidth"
                Value="200" />
        <Setter Property="Cursor"
                Value="Hand" />
        <Style.Triggers>
            <Trigger Property="IsMouseOver"
                     Value="True">
                <Setter Property="Background">
                    <Setter.Value>
                        <SolidColorBrush Color="Black" />
                    </Setter.Value>
                </Setter>
            </Trigger>
        </Style.Triggers>
    </Style>
    <Style x:Key="_ANIMATED_SEPERATOR"
           TargetType="Separator"
           BasedOn="{StaticResource {x:Type Separator}}">
        <Setter Property="Opacity"
                Value="0.2" />
        <Setter Property="Background"
                Value="Black" />
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver,RelativeSource={RelativeSource AncestorType=Border}}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetProperty="Opacity" />
                            <ColorAnimation Duration="0:0:0.250"
                                            To="YellowGreen"
                                            Storyboard.TargetProperty="(Separator.Background).(SolidColorBrush.Color)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0.2"
                                             Storyboard.TargetProperty="Opacity" />
                            <ColorAnimation Duration="0:0:0.250"
                                            To="Black"
                                            Storyboard.TargetProperty="(Separator.Background).(SolidColorBrush.Color)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </Style.Triggers>
    </Style>
    <DataTemplate x:Key="_APP_DISPLAY_BASE_IMAGE_TEMPLATE">
        <Grid>
            <Image VerticalAlignment="Stretch"
                   HorizontalAlignment="Stretch"
                   Stretch="Fill"
                   Height="280"
                   RenderOptions.BitmapScalingMode="LowQuality"
                   Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
            <md:PackIcon Grid.RowSpan="1"
                         Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
            <ProgressBar Margin="8"
                         HorizontalAlignment="Center"
                         VerticalAlignment="Center"
                         IsIndeterminate="True"
                         Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                         Style="{StaticResource MaterialDesignCircularProgressBar}" />
            <Border Opacity="0"
                    x:Name="_BACKGROUND_BORDER">
                <Border.Background>
                    <SolidColorBrush Color="Black"
                                     Opacity="0.5" />
                </Border.Background>
            </Border>
            <Border Name="_ACTIONS_BORDER"
                    Background="Transparent"
                    Opacity="0"
                    Margin="0,0,0,32"
                    VerticalAlignment="Bottom"
                    HorizontalAlignment="Stretch">
                <StackPanel Margin="8"
                            VerticalAlignment="Center">
                    <Button Margin="2"
                            x:Name="_PLAY_BUTTON"
                            Background="YellowGreen"
                            HorizontalAlignment="Stretch"
                            VerticalAlignment="Center"
                            ss:ControlHelper.DisableDoubleClick="True"
                            Command="{Binding ExecuteCommand}"
                            BorderThickness="0">
                        <Button.Style>
                            <Style TargetType="Button"
                                   BasedOn="{StaticResource MaterialDesignRaisedLightButton}">
                                <Setter Property="Content"
                                        Value="{lex:LocTextUpper Key=APP_COMMING_SOON}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding DefaultExecutable.IsActive}"
                                                 Value="True">
                                        <Setter Property="Content"
                                                Value="{lex:LocTextUpper Key=APP_CANCEL}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding DefaultExecutable.IsActive}"
                                                 Value="False">
                                        <Setter Property="Content"
                                                Value="{lex:LocTextUpper Key=APP_PLAY}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>
            </Border>
            <ProgressBar Background="Black"
                         DataContext="{Binding DefaultExecutable}"
                         VerticalAlignment="Bottom"
                         Foreground="YellowGreen"
                         Visibility="{Binding IsActive,Converter={StaticResource BoolToHiddenConverter},FallbackValue=Collapsed}"
                         Value="{Binding Progress}"
                         IsIndeterminate="{Binding IsIndeterminate,FallbackValue=False}"
                         BorderThickness="0" />
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver,ElementName=_TEMPLATE_ROOT}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ACTIONS_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_BACKGROUND_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_ACTIONS_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_BACKGROUND_BORDER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_TOP_RATED_TEMPLATE">
        <Border Style="{StaticResource _CARD_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <md:RatingBar Grid.Row="2"
                              Value="{Binding UserRating,Mode=TwoWay}"
                              Margin="8,2,8,2" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_RATES}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalRates}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_RATING}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding Rating}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_MOST_POPULAR_TEMPLATE">
        <Border Style="{StaticResource _CARD_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_TIME}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalExecutionTime,Converter={StaticResource DoubleSecondsToHoursConverter}}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_RUN}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding TotalExecutions}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_NEW_TEMPLATE">
        <Border Style="{StaticResource _CARD_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <Separator Grid.Row="2"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="3">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_ADD_DATE}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0"
                               Grid.ColumnSpan="1" />
                    <TextBlock Text="{Binding AddDate,StringFormat=d}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.ColumnSpan="2" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_DISPLAY_LIST_TEMPLATE">
        <Border Style="{StaticResource _CARD_BORDER_STYLE}"
                Name="_TEMPLATE_ROOT">
            <Border.InputBindings>
                <MouseBinding Command="{Binding DetailsCommand}"
                              Gesture="LeftClick" />
            </Border.InputBindings>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <ContentPresenter Grid.Row="0"
                                  ContentTemplate="{StaticResource _APP_DISPLAY_BASE_IMAGE_TEMPLATE}" />
                <TextBlock Grid.Row="1"
                           Text="{Binding Title}"
                           TextWrapping="WrapWithOverflow"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Opacity="1"
                           Style="{StaticResource MaterialDesignBody1TextBlock}" />
                <md:RatingBar Grid.Row="2"
                              Value="{Binding UserRating,Mode=TwoWay}"
                              Margin="8,2,8,2" />
                <Separator Grid.Row="3"
                           Style="{StaticResource _ANIMATED_SEPERATOR}" />
                <Grid Grid.Row="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_TOTAL_RATES}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="0" />
                    <TextBlock Text="{Binding TotalRates}"
                               FontWeight="SemiBold"
                               Grid.Column="1"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                    <TextBlock Text="{lex:LocTextUpper Key=APPLICATION_RATING}"
                               TextWrapping="NoWrap"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="SemiBold"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}"
                               Grid.Column="2" />
                    <TextBlock Text="{Binding Rating}"
                               FontWeight="SemiBold"
                               Grid.Column="3"
                               Margin="8"
                               Opacity="1"
                               Style="{StaticResource MaterialDesignCaptionTextBlock}" />
                </Grid>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="_APP_EXE_TEMPLATE">
        <Grid Background="Transparent">
            <Button md:RippleAssist.IsDisabled="True"
                    ToolTipService.BetweenShowDelay="0"
                    ToolTipService.InitialShowDelay="500"
                    Padding="0"
                    Width="64"
                    Height="64"
                    x:Name="_TEMPLATE_BUTTON"
                    Command="{Binding ExecuteCommand}">
                <Button.Style>
                    <Style TargetType="Button"
                           BasedOn="{StaticResource MaterialDesignFlatButton}">
                        <Setter Property="Visibility"
                                Value="Collapsed" />
                        <Setter Property="ss:ControlHelper.DisableDoubleClick"
                                Value="True" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ExecutableFileExists.IsCompleted}"
                                         Value="True">
                                <Setter Property="Visibility"
                                        Value="{Binding ExecutableFileExists.Result,Converter={StaticResource BoolToVisibilityConverter}}" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
                <Grid>
                    <Grid x:Name="_ICON_IMAGE">
                        <Grid.RenderTransform>
                            <ScaleTransform CenterX="24"
                                            CenterY="24"
                                            x:Name="_IMAGE_TRANSFORM" />
                        </Grid.RenderTransform>
                        <Image VerticalAlignment="Center"
                               HorizontalAlignment="Center"
                               Width="48"
                               Height="48"
                               RenderOptions.BitmapScalingMode="LowQuality"
                               RenderOptions.EdgeMode="Unspecified"
                               Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
                        <md:PackIcon Grid.RowSpan="1"
                                     Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
                        <ProgressBar Margin="8"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     IsIndeterminate="True"
                                     Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                     Style="{StaticResource MaterialDesignCircularProgressBar}" />
                    </Grid>
                    <ProgressBar Grid.Row="1"
                                 VerticalAlignment="Bottom"
                                 BorderThickness="0"
                                 Background="Black"
                                 Foreground="YellowGreen"
                                 Margin="4"
                                 IsIndeterminate="{Binding IsIndeterminate}"
                                 Value="{Binding Progress}"
                                 Height="4"
                                 HorizontalAlignment="Stretch"
                                 x:Name="_EXECUTION_PROGRESS"
                                 Style="{StaticResource MaterialDesignLinearProgressBar}">
                        <ProgressBar.RenderTransform>
                            <ScaleTransform CenterX="24"
                                            CenterY="24"
                                            ScaleX="0"
                                            ScaleY="0"
                                            x:Name="_PROGRESS_TRANSFORM" />
                        </ProgressBar.RenderTransform>
                    </ProgressBar>
                </Grid>
            </Button>
            <Popup Placement="Custom"
                   PopupAnimation="None"
                   CustomPopupPlacementCallback="{x:Static md:ToolTipAssist.CustomPopupPlacementCallback}"
                   VerticalOffset="0"
                   AllowsTransparency="True"
                   HorizontalAlignment="Stretch">
                <Popup.IsOpen>
                    <ss:DelayedMultiBindingExtension Delay="0:0:0.05"
                                                     Mode="OneWay"
                                                     Converter="{StaticResource AppExePopupConverter}">
                        <Binding Path="IsMouseOver"
                                 RelativeSource="{RelativeSource AncestorType=Grid}"
                                 Mode="OneWay" />
                        <Binding Path="IsMouseOver"
                                 RelativeSource="{RelativeSource Self}"
                                 Mode="OneWay" />
                        <Binding Path="IsOverlayShowing"
                                 Mode="OneWay" />
                    </ss:DelayedMultiBindingExtension>
                </Popup.IsOpen>
                <Border CornerRadius="4"
                        Margin="4"
                        VerticalAlignment="Top"
                        Effect="{ss:SkinShadow MaterialDesignShadowDepth1}"
                        Background="{StaticResource MaterialDesignCardBackground}">
                    <Grid Margin="4">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <TextBlock Grid.Row="0"
                                   Margin="4"
                                   TextWrapping="Wrap"
                                   FontWeight="Medium"
                                   Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                                   Foreground="White"
                                   Text="{Binding Caption}" />
                        <TextBlock Text="{Binding App.Title}"
                                   Grid.Row="1"
                                   Margin="4"
                                   TextWrapping="Wrap"
                                   FontWeight="Light"
                                   Foreground="White">
                            <TextBlock.Style>
                                <Style TargetType="TextBlock"
                                       BasedOn="{StaticResource MaterialDesignBody1TextBlock}">
                                    <Style.Triggers>
                                        <DataTrigger Value="True">
                                            <DataTrigger.Binding>
                                                <MultiBinding Converter="{StaticResource StringCompareMultiValueConverter}">
                                                    <Binding Path="Caption" />
                                                    <Binding Path="App.Title" />
                                                </MultiBinding>
                                            </DataTrigger.Binding>
                                            <Setter Property="Visibility"
                                                    Value="Collapsed" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style></TextBlock>
                        <Button Margin="2"
                                Grid.Row="2"
                                Background="YellowGreen"
                                x:Name="_PLAY_BUTTON"
                                Content="{lex:LocTextUpper Key=APP_DETAIL}"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                Command="{Binding App.DetailsCommand}"
                                BorderThickness="0"></Button>
                    </Grid>
                </Border>
            </Popup>
        </Grid>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsActive}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0.8"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0.8"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ICON_IMAGE"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseIn" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_IMAGE_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseIn" />
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ICON_IMAGE"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="_APP_EXE_DETAIL_TEMPLATE">
        <Border Margin="8,8,8,0"
                x:Name="_APP_EXE_DETAIL_BORDER"
                Width="320"
                Effect="{ss:SkinShadow MaterialDesignShadowDepth1}"
                CornerRadius="2"
                Visibility="{Binding ExecutableFileExists.Result,Converter={StaticResource BoolToVisibilityConverter}}"
                Background="{StaticResource MaterialDesignCardBackground}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Button Grid.Row="0"
                        Visibility="Visible"
                        Height="96"
                        md:RippleAssist.IsDisabled="True"
                        VerticalContentAlignment="Stretch"
                        HorizontalContentAlignment="Stretch"
                        Command="{Binding ExecuteCommand}"
                        ss:ControlHelper.DisableDoubleClick="True"
                        Style="{StaticResource MaterialDesignFlatButton}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition />
                            <RowDefinition />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Grid x:Name="_ICON_IMAGE"
                              Margin="2"
                              Grid.RowSpan="2">
                            <Image VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Width="64"
                                   Height="64"
                                   RenderOptions.BitmapScalingMode="LowQuality"
                                   Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
                            <md:PackIcon Grid.RowSpan="1"
                                         Style="{StaticResource _NO_IMAGE_ICON_STYLE}" />
                            <ProgressBar Margin="8"
                                         HorizontalAlignment="Center"
                                         VerticalAlignment="Center"
                                         IsIndeterminate="True"
                                         Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                         Style="{StaticResource MaterialDesignCircularProgressBar}" />
                        </Grid>
                        <TextBlock Grid.Row="0"
                                   Grid.Column="1"
                                   Margin="4,0,0,0"
                                   Text="{lex:LocTextUpper Key=APP_PLAY}"
                                   VerticalAlignment="Bottom"
                                   FontWeight="Bold"
                                   Foreground="GreenYellow"
                                   Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                        <TextBlock Grid.Row="1"
                                   Grid.Column="1"
                                   Margin="4,0,0,0"
                                   VerticalAlignment="Top"
                                   FontWeight="SemiBold"
                                   Text="{Binding Caption}"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" />
                        <ProgressBar Grid.Row="2"
                                     Background="Black"
                                     BorderThickness="0"
                                     Foreground="YellowGreen"
                                     md:TransitionAssist.DisableTransitions="True"
                                     IsIndeterminate="{Binding IsIndeterminate}"
                                     Value="{Binding Progress}"
                                     VerticalAlignment="Center"
                                     HorizontalAlignment="Stretch"
                                     Grid.ColumnSpan="2"
                                     Margin="2">
                            <ProgressBar.RenderTransform>
                                <ScaleTransform CenterX="24"
                                                CenterY="24"
                                                ScaleX="0"
                                                ScaleY="0"
                                                x:Name="_PROGRESS_TRANSFORM" />
                            </ProgressBar.RenderTransform>
                        </ProgressBar>
                    </Grid>
                </Button>
                <Button Style="{StaticResource MaterialDesignFlatButton}"
                        md:RippleAssist.IsDisabled="True"
                        Visibility="{Binding IsEnabled,RelativeSource={RelativeSource Self},Converter={StaticResource BoolToVisibilityConverter}}"
                        Padding="4"
                        Command="{Binding TerminateCommand}"
                        ss:ControlHelper.DisableDoubleClick="True"
                        VerticalAlignment="Top"
                        HorizontalAlignment="Right">
                    <Button.Content>
                        <md:PackIcon Width="24"
                                     Height="24"
                                     Kind="CloseCircleOutline" />
                    </Button.Content>
                </Button>
                <GridSplitter Grid.Row="1"
                              Height="0.5"
                              IsEnabled="False"
                              HorizontalAlignment="Stretch"
                              Background="Black"
                              VerticalAlignment="Center"
                              Opacity="0.5" />
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <CheckBox Margin="2"
                              Grid.Column="0"
                              IsChecked="{Binding AutoStart}">
                        <TextBlock Text="{lex:LocTextUpper EXECUTION_AUTO_START}"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Left"
                                   TextWrapping="NoWrap"
                                   TextTrimming="CharacterEllipsis"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" />
                    </CheckBox>
                    <Button Margin="2"
                            Grid.Column="1"
                            Command="{Binding ResetCommand}"
                            Style="{StaticResource MaterialDesignFlatButton}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition />
                            </Grid.ColumnDefinitions>
                            <md:PackIcon VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Kind="Refresh"
                                         Grid.Column="0"
                                         Visibility="Visible"
                                         Margin="4" />
                            <TextBlock Text="{lex:LocTextUpper EXECUTION_REPAIR}"
                                       Grid.Column="1"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Left"
                                       TextWrapping="NoWrap"
                                       TextTrimming="CharacterEllipsis"
                                       Style="{StaticResource MaterialDesignBody2TextBlock}" />
                        </Grid>
                    </Button>
                    <Grid Margin="2"
                          Grid.Column="2"
                          Background="Transparent">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding PersonalFiles.IsCompleted}"
                                                       Value="True" />
                                            <Condition Binding="{Binding PersonalFiles.Result.Count}"
                                                       Value="0" />
                                        </MultiDataTrigger.Conditions>
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </MultiDataTrigger>
                                    <DataTrigger Binding="{Binding PersonalFiles.IsCompleted}"
                                                 Value="False">
                                        <Setter Property="Visibility"
                                                Value="Collapsed" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition />
                        </Grid.ColumnDefinitions>
                        <md:PackIcon VerticalAlignment="Center"
                                     HorizontalAlignment="Center"
                                     Kind="Folder"
                                     Margin="4" />
                        <TextBlock Text="{lex:LocTextUpper Key=PERSONAL_FILES}"
                                   Grid.Column="1"
                                   x:Name="_PERSONAL_FILES_TEXTBLOCK"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Left"
                                   TextWrapping="NoWrap"
                                   TextTrimming="CharacterEllipsis"
                                   Style="{StaticResource MaterialDesignBody2TextBlock}" />
                        <Popup Placement="Custom"
                               Margin="0"
                               PopupAnimation="None"
                               PlacementTarget="{Binding ElementName=_PERSONAL_FILES_TEXTBLOCK}"
                               CustomPopupPlacementCallback="{x:Static md:ToolTipAssist.CustomPopupPlacementCallback}"
                               AllowsTransparency="True"
                               HorizontalAlignment="Stretch">
                            <Popup.IsOpen>
                                <ss:DelayedMultiBindingExtension Delay="0:0:0.05"
                                                                 Mode="OneWay"
                                                                 Converter="{StaticResource BoolAnyConverter}">
                                    <Binding Path="IsMouseOver"
                                             RelativeSource="{RelativeSource AncestorType=Grid}"
                                             Mode="OneWay" />
                                    <Binding Path="IsMouseOver"
                                             RelativeSource="{RelativeSource Self}"
                                             Mode="OneWay" />
                                </ss:DelayedMultiBindingExtension>
                            </Popup.IsOpen>
                            <Border CornerRadius="4"
                                    Margin="0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Top"
                                    Effect="{ss:SkinShadow MaterialDesignShadowDepth1}"
                                    Background="{StaticResource MaterialDesignCardBackground}">
                                <Grid>
                                    <ProgressBar Margin="8"
                                                 HorizontalAlignment="Center"
                                                 VerticalAlignment="Center"
                                                 IsIndeterminate="True"
                                                 Visibility="{Binding PersonalFiles.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                                 Style="{StaticResource MaterialDesignCircularProgressBar}" />
                                    <ItemsControl Margin="4"
                                                  ItemsSource="{Binding PersonalFiles.Result}"
                                                  Visibility="{Binding PersonalFiles.IsCompleted, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <ItemsControl.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <StackPanel Orientation="Vertical" />
                                            </ItemsPanelTemplate>
                                        </ItemsControl.ItemsPanel>
                                        <ItemsControl.ItemTemplate>
                                            <DataTemplate>
                                                <Button Command="{Binding ExecuteCommand}"
                                                        Padding="2"
                                                        HorizontalContentAlignment="Left"
                                                        Style="{StaticResource MaterialDesignFlatButton}">
                                                    <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition />
                                                        </Grid.ColumnDefinitions>
                                                        <md:PackIcon VerticalAlignment="Center"
                                                                     HorizontalAlignment="Center"
                                                                     Kind="Folder"
                                                                     Margin="4" />
                                                        <TextBlock Text="{Binding Caption,Converter={StaticResource ToUpperConverter}}"
                                                                   Grid.Column="1"
                                                                   VerticalAlignment="Center"
                                                                   HorizontalAlignment="Left"
                                                                   TextWrapping="NoWrap"
                                                                   TextTrimming="CharacterEllipsis"
                                                                   Style="{StaticResource MaterialDesignBody2TextBlock}" />
                                                    </Grid>
                                                </Button>
                                            </DataTemplate>
                                        </ItemsControl.ItemTemplate>
                                    </ItemsControl>
                                </Grid>
                            </Border>
                        </Popup>
                    </Grid>
                </Grid>
            </Grid>
        </Border>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsActive}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="1"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleX)" />
                            <DoubleAnimation Duration="0:0:0.250"
                                             To="0"
                                             Storyboard.TargetName="_PROGRESS_TRANSFORM"
                                             Storyboard.TargetProperty="(ScaleTransform.ScaleY)" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="NEWS_ITEM_TEMPLATE">
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <Grid VerticalAlignment="Top">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <Grid x:Name="_HEADER">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock>
                            <Hyperlink Command="{Binding ExecuteCommand}">
                                <TextBlock Text="{Binding Title,Converter={StaticResource ToUpperConverter}}"
                                           TextTrimming="CharacterEllipsis"
                                           TextWrapping="NoWrap"
                                           FontWeight="SemiBold"
                                           HorizontalAlignment="Center"
                                           VerticalAlignment="Center"
                                           Foreground="{StaticResource MaterialDesignBody}"
                                           Margin="4"
                                           Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                            </Hyperlink> 
                        </TextBlock>
                        <TextBlock Grid.Column="1"
                                   Text="{Binding CreatedTime,StringFormat=d}"
                                   TextTrimming="None"
                                   TextWrapping="NoWrap"
                                   FontWeight="SemiBold"
                                   Margin="4"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   Foreground="{StaticResource MaterialDesignBody}"
                                   Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                    </Grid>
                </Grid>
                <Grid Grid.Row="1"
                      x:Name="_MEDIA"
                      Background="Transparent"
                      Cursor="Hand">
                    <Grid.Style>
                        <Style TargetType="Grid"
                               BasedOn="{StaticResource {x:Type Grid}}">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                            <Style.Triggers>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding MediaTypeTask.IsCompleted}"
                                                   Value="True" />
                                        <Condition Binding="{Binding MediaTypeTask.Result}"
                                                   Value="1" />
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Visibility"
                                            Value="Visible" />
                                </MultiDataTrigger>
                                <MultiDataTrigger>
                                    <MultiDataTrigger.Conditions>
                                        <Condition Binding="{Binding MediaTypeTask.IsCompleted}"
                                                   Value="True" />
                                        <Condition Binding="{Binding MediaTypeTask.Result}"
                                                   Value="2" />
                                    </MultiDataTrigger.Conditions>
                                    <Setter Property="Visibility"
                                            Value="Visible" />
                                </MultiDataTrigger>
                            </Style.Triggers>
                        </Style>
                    </Grid.Style>
                    <Border x:Name="_VIDEO_PRESENTER"
                            Background="Black"
                            Width="720"
                            Height="405"
                            Visibility="{Binding InMediaMode,Converter={StaticResource BoolToVisibilityConverter}}">
                        <ContentControl DataContext="{Binding MediaModel}"
                                        VerticalAlignment="Stretch"
                                        HorizontalAlignment="Stretch"
                                        Visibility="Visible"
                                        Style="{StaticResource MEDIA_CONTETNT_CONTROL}" />
                    </Border>
                    <Grid x:Name="_THUMBNAIL"
                          Visibility="{Binding InMediaMode,Converter={StaticResource BoolToVisibilityConverter},ConverterParameter=True}">
                        <Grid.Style>
                            <Style TargetType="Grid"
                                   BasedOn="{StaticResource {x:Type Grid}}">
                                <Setter Property="Background"
                                        Value="Transparent" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding MediaType}"
                                                 Value="1">
                                        <Setter Property="Background"
                                                Value="Black" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <Grid.InputBindings>
                            <MouseBinding MouseAction="LeftClick"
                                          Command="{Binding ExecuteMediaCommand}" />
                        </Grid.InputBindings>
                        <Image VerticalAlignment="Stretch"
                               RenderOptions.BitmapScalingMode="LowQuality"
                               HorizontalAlignment="Stretch"
                               Stretch="Uniform"
                               Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}">
                            <Image.Style>
                                <Style TargetType="Image"
                                       BasedOn="{StaticResource {x:Type Image}}">
                                    <Setter Property="StretchDirection"
                                            Value="DownOnly" />
                                    <Setter Property="Height"
                                            Value="NaN" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding MediaType}"
                                                     Value="1">
                                            <Setter Property="Height"
                                                    Value="405" />
                                            <Setter Property="StretchDirection"
                                                    Value="Both" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Image.Style>
                        </Image>
                        <md:PackIcon>
                            <md:PackIcon.Style>
                                <Style TargetType="md:PackIcon"
                                       BasedOn="{StaticResource _NO_IMAGE_ICON_STYLE}">
                                    <Setter Property="Kind"
                                            Value="FileImage" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding MediaType}"
                                                     Value="1">
                                            <Setter Property="Kind"
                                                    Value="Video" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding MediaType}"
                                                     Value="2">
                                            <Setter Property="Kind"
                                                    Value="Image" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </md:PackIcon.Style>
                        </md:PackIcon>
                        <ProgressBar Margin="8"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     IsIndeterminate="True"
                                     Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                     Style="{StaticResource MaterialDesignCircularProgressBar}" />
                    </Grid>
                </Grid>
                <Grid Grid.Row="2"
                      x:Name="_CONTENT">
                    <ContentControl Margin="0,8,0,8">
                        <ContentControl.Style>
                            <Style TargetType="ContentControl">
                                <Setter Property="Content">
                                    <Setter.Value>
                                        <TextBlock VerticalAlignment="Center"
                                                   HorizontalAlignment="Left"
                                                   TextWrapping="Wrap"
                                                   FontWeight="Light"
                                                   Style="{StaticResource MaterialDesignHeadlineTextBlock}"
                                                   Text="{Binding Data}" />
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsDataHtml}"
                                                 Value="True">
                                        <Setter Property="Content">
                                            <Setter.Value>
                                                <lc:ExtendedRichTextbox Grid.Row="1"
                                                                        Padding="0"
                                                                        Background="Transparent"
                                                                        BorderThickness="0"
                                                                        Document="{Binding Data, Converter={StaticResource HTMLConverter}, Mode=TwoWay}"
                                                                        IsDocumentEnabled="True"
                                                                        IsReadOnly="True"
                                                                        IsReadOnlyCaretVisible="False"
                                                                        IsUndoEnabled="False" />
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ContentControl.Style>
                    </ContentControl>
                </Grid>
            </Grid>
        </ScrollViewer>
    </DataTemplate>
    <DataTemplate x:Key="FEED_ITEM_TEMPLATE">
        <Border Margin="0,0,4,24"
                CornerRadius="4">
            <Border.Background>
                <SolidColorBrush Color="Black"
                                 Opacity="0.25" />
            </Border.Background>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Border CornerRadius="4,4,0,0"
                        Background="{StaticResource PrimaryHueDarkBrush}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock>
                        <Hyperlink Command="{Binding ExecuteCommand}">
                            <TextBlock Text="{Binding Title,Converter={StaticResource ToUpperConverter}}"
                                       FontSize="20"
                                       TextTrimming="CharacterEllipsis"
                                       TextWrapping="Wrap"
                                       Margin="4"
                                       FontWeight="DemiBold"
                                       Foreground="{StaticResource MaterialDesignBody}"
                                       Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                        </Hyperlink> 
                    </TextBlock>
                        <TextBlock Grid.Column="1"
                                   Text="{Binding CreatedTime,StringFormat=d}"
                                   Visibility="{Binding CreatedTime,Converter={StaticResource NullVisibilityConverter}}"
                                   FontSize="20"
                                   TextTrimming="None"
                                   TextWrapping="NoWrap"
                                   Margin="4"
                                   FontWeight="DemiBold"
                                   Style="{StaticResource MaterialDesignHeadlineTextBlock}" />
                    </Grid>
                </Border>
                <lc:ExtendedRichTextbox Grid.Row="1"
                                        Margin="4"
                                        Focusable="False"
                                        VerticalContentAlignment="Stretch"
                                        HorizontalContentAlignment="Stretch"
                                        VerticalAlignment="Stretch"
                                        HorizontalAlignment="Stretch"
                                        Cursor="Arrow"
                                        Padding="0"
                                        Background="Transparent"
                                        BorderThickness="0"
                                        Document="{Binding Data, Converter={StaticResource HTMLConverter}, Mode=TwoWay}"
                                        IsDocumentEnabled="True"
                                        FontSize="16"
                                        Foreground="White"
                                        FontWeight="Light"
                                        IsReadOnly="True"
                                        IsReadOnlyCaretVisible="False"
                                        IsUndoEnabled="False">
                    <lc:ExtendedRichTextbox.Resources>
                        <Style TargetType="Image"
                               BasedOn="{StaticResource {x:Type Image}}">
                            <Setter Property="RenderOptions.BitmapScalingMode"
                                    Value="LowQuality" />
                            <Setter Property="Stretch"
                                    Value="Uniform" />
                        </Style>
                        <Style TargetType="Hyperlink"
                               BasedOn="{StaticResource {x:Type Hyperlink}}" />
                    </lc:ExtendedRichTextbox.Resources>
                </lc:ExtendedRichTextbox>
            </Grid>
        </Border>
    </DataTemplate>
    <DataTemplate x:Key="FEED_SOURCE_TEMPLATE">
        <Grid>
            <ItemsControl ItemsSource="{Binding FeedItems}"
                          ItemTemplate="{StaticResource FEED_ITEM_TEMPLATE}"
                          Visibility="{Binding IsEnumerating,Converter={StaticResource BoolToVisibilityConverter},ConverterParameter=True}">
                <ItemsControl.Style>
                    <Style TargetType="ItemsControl"
                           BasedOn="{StaticResource {x:Type ItemsControl}}">
                        <Setter Property="ScrollViewer.CanContentScroll"
                                Value="False" />
                        <Setter Property="ScrollViewer.VerticalScrollBarVisibility"
                                Value="Auto" />
                        <Setter Property="ScrollViewer.IsDeferredScrollingEnabled"
                                Value="False" />
                        <Setter Property="ItemsPanel">
                            <Setter.Value>
                                <ItemsPanelTemplate>
                                    <VirtualizingStackPanel Orientation="Vertical"
                                                            VerticalAlignment="Stretch"
                                                            HorizontalAlignment="Stretch"
                                                            IsItemsHost="True" />
                                </ItemsPanelTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </ItemsControl.Style>
            </ItemsControl>
            <ProgressBar VerticalAlignment="Center"
                         HorizontalAlignment="Center"
                         IsIndeterminate="True"
                         Style="{StaticResource MaterialDesignCircularProgressBar}"
                         Visibility="{Binding IsEnumerating,Converter={StaticResource BoolToVisibilityConverter}}"
                         Foreground="YellowGreen"
                         Background="Transparent"
                         BorderThickness="0"
                         Width="64"
                         Height="64" />
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="_PRODUCT_ORDER_LINE_TEMPLATE">
        <Grid Margin="4">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Text="{Binding Product.Name}"
                       Style="{StaticResource MaterialDesignTitleTextBlock}"
                       Margin="0,4,0,4"
                       TextTrimming="CharacterEllipsis" />
            <Grid Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"
                                      SharedSizeGroup="_ADD" />
                    <ColumnDefinition Width="Auto"
                                      SharedSizeGroup="_QUANTITY" />
                    <ColumnDefinition Width="Auto"
                                      SharedSizeGroup="_REMOVE" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto"
                                      SharedSizeGroup="_DELETE" />
                </Grid.ColumnDefinitions>
                <Button Grid.Column="0"
                        Width="24"
                        Height="24"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Left"
                        Command="{Binding AddCommand}"
                        Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}">
                    <md:PackIcon Kind="Plus"
                                 Height="20"
                                 Width="20" />
                </Button>
                <TextBlock Grid.Column="1"
                           MinWidth="30"
                           TextAlignment="Center"
                           Style="{StaticResource MaterialDesignTitleTextBlock}"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Text="{Binding Quantity}" />
                <Button Grid.Column="2"
                        Width="24"
                        Height="24"
                        Command="{Binding RemoveCommand}"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Right"
                        Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}">
                    <md:PackIcon Kind="Minus"
                                 Height="20"
                                 Width="20" />
                </Button>
                <ContentControl Grid.Column="3">
                    <ContentControl.Style>
                        <Style TargetType="ContentControl"
                               BasedOn="{StaticResource {x:Type ContentControl}}">
                            <Setter Property="Content">
                                <Setter.Value>
                                    <TextBlock Text="{wd:CultureAwareBinding Total,StringFormat=C2}"
                                               Margin="2"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Center"
                                               Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                </Setter.Value>
                            </Setter>
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding PayType}"
                                             Value="Points">
                                    <Setter Property="Content">
                                        <Setter.Value>
                                            <Grid VerticalAlignment="Center"
                                                  HorizontalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto" />
                                                    <ColumnDefinition Width="Auto" />
                                                </Grid.ColumnDefinitions>
                                                <md:PackIcon Grid.Column="1"
                                                             Kind="Trophy"
                                                             Foreground="YellowGreen"
                                                             VerticalAlignment="Center"
                                                             HorizontalAlignment="Center" />
                                                <TextBlock Grid.Column="0"
                                                           Foreground="YellowGreen"
                                                           Text="{Binding TotalPoints,StringFormat=N0}"
                                                           Margin="2"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Center"
                                                           Style="{StaticResource MaterialDesignTitleTextBlock}" />
                                            </Grid>
                                        </Setter.Value>
                                    </Setter>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </ContentControl.Style>
                </ContentControl>
                <Button Grid.Column="4"
                        Margin="4"
                        Width="24"
                        Height="24"
                        Command="{Binding DeleteCommand}"
                        VerticalAlignment="Center"
                        Style="{StaticResource MaterialDesignFloatingActionMiniLightButton}">
                    <md:PackIcon Kind="Delete"
                                 Foreground="Red"
                                 Height="20"
                                 Width="20" />
                </Button>
            </Grid>
        </Grid>
    </DataTemplate>
    <DataTemplate x:Key="_PRODUCT_DISPLAY_TEMPLATE">
        <Border Margin="0,0,4,4"
                x:Name="_TEMPLATE_ROOT"
                Background="{StaticResource MaterialDesignCardBackground}"
                Effect="{ss:SkinShadow MaterialDesignShadowDepth1}">
            <Border.Style>
                <Style TargetType="Border"
                       BasedOn="{StaticResource _CARD_BORDER_STYLE}">
                    <Setter Property="Width"
                            Value="NaN" />
                    <Setter Property="Height"
                            Value="NaN" />
                    <Setter Property="Cursor"
                            Value="Arrow" />
                </Style>
            </Border.Style>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           TextWrapping="Wrap"
                           TextTrimming="CharacterEllipsis"
                           Margin="4,0,4,0"
                           FontWeight="Light"
                           Height="50"
                           MaxHeight="50"
                           Grid.Row="2">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock"
                               BasedOn="{StaticResource MaterialDesignBody2TextBlock}">
                            <Setter Property="Text"
                                    Value="{Binding Description}" />
                            <Setter Property="Opacity"
                                    Value="0.8" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding Description}"
                                             Value="">
                                    <Setter Property="Text"
                                            Value="{lex:LocText Key=PRODUCT_NO_DESCRIPTION}" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding Description}"
                                             Value="{x:Null}">
                                    <Setter Property="Text"
                                            Value="{lex:LocText Key=PRODUCT_NO_DESCRIPTION}" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style></TextBlock>
                <Grid Grid.Row="3"
                      Margin="8"
                      VerticalAlignment="Center"
                      HorizontalAlignment="Center">
                    <md:PackIcon Width="128"
                                 Height="128"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Visibility="{Binding HasImage,Converter={StaticResource BoolToVisibilityConverter},ConverterParameter=True}"
                                 Grid.Row="3">
                        <md:PackIcon.Style>
                            <Style TargetType="md:PackIcon">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Type}"
                                                 Value="ProductTime">
                                        <Setter Property="Kind"
                                                Value="Timer" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Type}"
                                                 Value="Product">
                                        <Setter Property="Kind"
                                                Value="Food" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding Type}"
                                                 Value="ProductBundle">
                                        <Setter Property="Kind"
                                                Value="FoodForkDrink" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </md:PackIcon.Style>
                    </md:PackIcon>
                    <Grid Visibility="{Binding HasImage,Converter={StaticResource BoolToVisibilityConverter}}">
                        <Image Stretch="Uniform"
                               RenderOptions.BitmapScalingMode="LowQuality"
                               Source="{Binding ImageData.Result,Converter={StaticResource NullImageSourceConverter}}" />
                        <ProgressBar Margin="8"
                                     HorizontalAlignment="Center"
                                     VerticalAlignment="Center"
                                     IsIndeterminate="True"
                                     Visibility="{Binding ImageData.IsNotCompleted, Converter={StaticResource BooleanToVisibilityConverter}}"
                                     Style="{StaticResource MaterialDesignCircularProgressBar}" />
                    </Grid>
                </Grid>
                <Border x:Name="_ACTIONS_CONTAINER"
                        Opacity="0"
                        Grid.RowSpan="8">
                    <Border.Background>
                        <SolidColorBrush Color="Black"
                                         Opacity="0.5" />
                    </Border.Background>
                    <Grid Margin="4"
                          VerticalAlignment="Center">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>
                        <Button Command="{Binding AddWithCashCommand}"
                                Visibility="{Binding CanPurchaseWithCash,Converter={StaticResource BoolToVisibilityConverter}}"
                                Grid.Row="0"
                                BorderThickness="0"
                                Background="YellowGreen">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <md:PackIcon Kind="CurrencyUsd" />
                                <TextBlock Grid.Column="1"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Left"
                                           Text="{lex:LocText Key=ADD_TO_ORDER}" />
                            </Grid>
                        </Button>
                        <Separator Grid.Row="1"
                                   Visibility="Hidden" />
                        <Button Grid.Row="2"
                                Command="{Binding AddWithPointsCommand}"
                                Visibility="{Binding CanPurchaseWithPoints,Converter={StaticResource BoolToVisibilityConverter}}"
                                BorderThickness="0"
                                Background="YellowGreen">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition />
                                </Grid.ColumnDefinitions>
                                <md:PackIcon Kind="Trophy"
                                             Foreground="Black" />
                                <TextBlock Grid.Column="1"
                                           VerticalAlignment="Center"
                                           HorizontalAlignment="Left"
                                           Text="{lex:LocText Key=ADD_TO_ORDER}" />
                            </Grid>
                        </Button>
                    </Grid>
                </Border>
                <TextBlock Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                           TextWrapping="NoWrap"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           TextTrimming="CharacterEllipsis"
                           Margin="8"
                           Grid.Row="0"
                           FontWeight="Bold"
                           Text="{Binding Name,Converter={StaticResource ToUpperConverter}}" />
                <Separator Grid.Row="1" />
                <Separator Grid.Row="4" />
                <Grid Grid.Row="5"
                      Margin="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition  Width="*"
                                           SharedSizeGroup="_PRICE" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition  Width="*"
                                           SharedSizeGroup="_AWARD" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Left"
                               FontWeight="ExtraBlack"
                               TextTrimming="CharacterEllipsis"
                               Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                               Text="{wd:CultureAwareBinding Price,StringFormat=C2}"
                               Visibility="{Binding CostMoney,Converter={StaticResource BoolToHiddenConverter}}" />
                    <TextBlock Grid.Column="1"
                               FontWeight="ExtraBold"
                               Foreground="YellowGreen"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Center">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock"
                                   BasedOn="{StaticResource MaterialDesignSubheadingTextBlock}">
                                <Setter Property="Text"
                                        Value="{lex:LocTextUpper Key=PURCHASE_OPTION_AND}" />
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                                <Style.Triggers>
                                    <MultiDataTrigger>
                                        <MultiDataTrigger.Conditions>
                                            <Condition Binding="{Binding CostsPoints,Mode=OneWay}"
                                                       Value="True" />
                                            <Condition Binding="{Binding CostMoney,Mode=OneWay}"
                                                       Value="True" />
                                        </MultiDataTrigger.Conditions>
                                        <MultiDataTrigger.Setters>
                                            <Setter Property="Visibility"
                                                    Value="Visible" />
                                        </MultiDataTrigger.Setters>
                                    </MultiDataTrigger>
                                    <DataTrigger Binding="{Binding PurchaseOptions}"
                                                 Value="Or">
                                        <Setter Property="Text"
                                                Value="{lex:LocTextUpper Key=PURCHASE_OPTION_OR}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style></TextBlock>
                    <TextBlock Grid.Column="2"
                               TextTrimming="CharacterEllipsis"
                               FontWeight="ExtraBlack"
                               Text="{Binding PointsPrice,TargetNullValue=0}"
                               Foreground="YellowGreen"
                               VerticalAlignment="Center"
                               HorizontalAlignment="Right">
                        <TextBlock.Style>
                            <Style TargetType="TextBlock"
                                   BasedOn="{StaticResource MaterialDesignSubheadingTextBlock}">
                                <Setter Property="Visibility"
                                        Value="Collapsed" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding CostsPoints}"
                                                 Value="True">
                                        <Setter Property="Visibility"
                                                Value="Visible" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style></TextBlock>
                    <md:PackIcon Grid.Column="3"
                                 Visibility="{Binding CostsPoints,Converter={StaticResource BoolToVisibilityConverter}}"
                                 VerticalAlignment="Center"
                                 HorizontalAlignment="Center"
                                 Foreground="YellowGreen"
                                 Kind="Trophy" />
                </Grid>
                <Separator Grid.Row="6" />
                <Border Grid.Row="7"
                        Margin="4">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding Award,Converter={StaticResource ValueGreaterConverter},ConverterParameter=0}"
                                                 Value="False">
                                        <Setter Property="Visibility"
                                                Value="Hidden" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <TextBlock FontWeight="ExtraBold"
                                   TextWrapping="NoWrap"
                                   Margin="2"
                                   TextTrimming="CharacterEllipsis"
                                   Text="{lex:LocTextUpper Key=PRODUCT_BUY_AND_GET}"
                                   Style="{StaticResource MaterialDesignSubheadingTextBlock}"></TextBlock>
                        <StackPanel Grid.Column="1"
                                    Orientation="Horizontal">
                            <TextBlock Foreground="YellowGreen"
                                       FontWeight="ExtraBold"
                                       TextWrapping="NoWrap"
                                       VerticalAlignment="Center"
                                       HorizontalAlignment="Center"
                                       Style="{StaticResource MaterialDesignSubheadingTextBlock}"
                                       Text="{Binding Award,TargetNullValue=0}" />
                            <md:PackIcon Grid.Column="1"
                                         Foreground="YellowGreen"
                                         VerticalAlignment="Center"
                                         HorizontalAlignment="Center"
                                         Kind="Trophy" />
                        </StackPanel>
                    </Grid>
                </Border>
            </Grid>
        </Border>
        <DataTemplate.Triggers>
            <DataTrigger Binding="{Binding IsMouseOver,ElementName=_TEMPLATE_ROOT}"
                         Value="True">
                <DataTrigger.EnterActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="1"
                                             Storyboard.TargetName="_ACTIONS_CONTAINER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.EnterActions>
                <DataTrigger.ExitActions>
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Duration="0:0:0.150"
                                             To="0"
                                             Storyboard.TargetName="_ACTIONS_CONTAINER"
                                             Storyboard.TargetProperty="Opacity" />
                        </Storyboard>
                    </BeginStoryboard>
                </DataTrigger.ExitActions>
            </DataTrigger>
        </DataTemplate.Triggers>
    </DataTemplate>
    <DataTemplate x:Key="VIDEO_PLAYER_TEMPLATE">
        <DataTemplate.Resources>
            <Style TargetType="Button"
                   BasedOn="{StaticResource MaterialDesignFlatButton}">
                <Style.Setters>
                    <Setter Property="md:RippleAssist.IsDisabled"
                            Value="True" />
                    <Setter Property="Padding"
                            Value="0" />
                    <Setter Property="Focusable"
                            Value="False" />
                </Style.Setters>
            </Style>
        </DataTemplate.Resources>
        <Grid sif:EventToCommand.Event="MouseMove"
              sif:EventToCommand.Command="{Binding MouseMoveCommand}"
              Background="Black"
              IsEnabled="{Binding IsViewAttached}">
            <Grid.Style>
                <Style TargetType="Grid"
                       BasedOn="{StaticResource {x:Type Grid}}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding IsInputIdle}"
                                     Value="True">
                            <Setter Property="Cursor"
                                    Value="None" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Grid.Style>
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ContentControl Content="{Binding View}"
                            VerticalContentAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"
                            VerticalAlignment="Stretch"
                            HorizontalAlignment="Stretch"
                            Background="Transparent"
                            Grid.RowSpan="2" />
            <Border Background="Transparent">
                <Border.InputBindings>
                    <MouseBinding Gesture="LeftDoubleClick"
                                  Command="{Binding ExitFullScreenCommand}" />
                    <MouseBinding Gesture="LeftClick"
                                  Command="{Binding MediaCommand}" />
                </Border.InputBindings>
            </Border>
            <Grid Grid.Row="1"
                  x:Name="_CONTROLS_GRID">
                <Grid.Style>
                    <Style TargetType="Grid">
                        <Setter Property="Visibility"
                                Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsInitializing}"
                                         Value="True">
                                <Setter Property="Visibility"
                                        Value="Hidden" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsViewAttached}"
                                         Value="False">
                                <Setter Property="Visibility"
                                        Value="Hidden" />
                            </DataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding IsInitializing}"
                                               Value="False" />
                                    <Condition Binding="{Binding IsViewAttached}"
                                               Value="False" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="Hidden" />
                            </MultiDataTrigger>
                            <DataTrigger Binding="{Binding IsInputIdle}"
                                         Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Duration="0:0:0.150"
                                                             To="0"
                                                             Storyboard.TargetProperty="Opacity" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Duration="0:0:0.150"
                                                             To="1"
                                                             Storyboard.TargetProperty="Opacity" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Grid.Style>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition />
                </Grid.RowDefinitions>
                <Slider Grid.Row="0"
                        Cursor="Hand"
                        Value="{Binding Position}"
                        IsMoveToPointEnabled="True"
                        IsDirectionReversed="False"
                        IsSnapToTickEnabled="False"
                        Foreground="YellowGreen"
                        Delay="500"
                        Maximum="{Binding Duration}"
                        VerticalAlignment="Stretch"
                        HorizontalAlignment="Stretch" />
                <Grid Grid.Row="1"
                      Background="Transparent">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <Button Command="{Binding MediaCommand}"
                            Visibility="{Binding IsPlaying,Converter={StaticResource BoolToVisibilityConverter},ConverterParameter=True}">
                        <md:PackIcon Kind="Play"
                                     Foreground="White"
                                     Width="32"
                                     Height="32" />
                    </Button>
                    <Button Command="{Binding MediaCommand}"
                            Padding="0"
                            Visibility="{Binding IsPlaying,Converter={StaticResource BoolToVisibilityConverter},FallbackValue=Collapsed}">
                        <md:PackIcon Kind="Pause"
                                     Foreground="White"
                                     Width="32"
                                     Height="32" />
                    </Button>
                    <Grid Background="Transparent"
                          Grid.Column="2">
                        <Grid.Triggers>
                            <EventTrigger RoutedEvent="Mouse.MouseEnter">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="0:0:0.150"
                                                         To="1"
                                                         Storyboard.TargetName="VOLUME_SLIDER"
                                                         Storyboard.TargetProperty="Opacity" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                            <EventTrigger RoutedEvent="Mouse.MouseLeave">
                                <BeginStoryboard>
                                    <Storyboard>
                                        <DoubleAnimation Duration="0:0:0.150"
                                                         To="0"
                                                         Storyboard.TargetName="VOLUME_SLIDER"
                                                         Storyboard.TargetProperty="Opacity" />
                                    </Storyboard>
                                </BeginStoryboard>
                            </EventTrigger>
                        </Grid.Triggers>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <Slider Orientation="Horizontal"
                                Name="VOLUME_SLIDER"
                                Cursor="Hand"
                                Margin="4"
                                Grid.Column="1"
                                Foreground="YellowGreen"
                                VerticalAlignment="Center"
                                HorizontalAlignment="Stretch"
                                Width="75"
                                Maximum="1"
                                SmallChange="0.05"
                                LargeChange="0.25"
                                Opacity="0"
                                Minimum="0"
                                Value="{Binding Volume,Mode=TwoWay}" />
                        <Button Command="{Binding VolumeCommand}">
                            <md:PackIcon Grid.Column="0"
                                         Background="Transparent"
                                         Foreground="White"
                                         Width="32"
                                         Height="32">
                                <md:PackIcon.Style>
                                    <Style TargetType="md:PackIcon">
                                        <Setter Property="Kind"
                                                Value="VolumeOff" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding VolumeLevelKind}"
                                                         Value="0">
                                                <Setter Property="Kind"
                                                        Value="VolumeMute" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding VolumeLevelKind}"
                                                         Value="1">
                                                <Setter Property="Kind"
                                                        Value="VolumeLow" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding VolumeLevelKind}"
                                                         Value="2">
                                                <Setter Property="Kind"
                                                        Value="VolumeMedium" />
                                            </DataTrigger>
                                            <DataTrigger Binding="{Binding VolumeLevelKind}"
                                                         Value="3">
                                                <Setter Property="Kind"
                                                        Value="VolumeHigh" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </md:PackIcon.Style>
                            </md:PackIcon>
                        </Button>
                    </Grid>
                    <Button Grid.Column="4">
                        <Button.Style>
                            <Style TargetType="Button"
                                   BasedOn="{StaticResource {x:Type Button}}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsFullScreen}"
                                                 Value="False">
                                        <Setter Property="Command"
                                                Value="{Binding FullScreenCommand}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding IsFullScreen}"
                                                 Value="True">
                                        <Setter Property="Command"
                                                Value="{Binding ExitFullScreenCommand}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                        <md:PackIcon Foreground="White"
                                     Width="32"
                                     Height="32">
                            <md:PackIcon.Style>
                                <Style TargetType="md:PackIcon">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsFullScreen}"
                                                     Value="False">
                                            <Setter Property="Kind"
                                                    Value="Fullscreen" />
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding IsFullScreen}"
                                                     Value="True">
                                            <Setter Property="Kind"
                                                    Value="FullscreenExit" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </md:PackIcon.Style>
                        </md:PackIcon>
                    </Button>
                </Grid>
            </Grid>
            <md:PackIcon Kind="Pause"
                         VerticalAlignment="Center"
                         HorizontalAlignment="Center">
                <md:PackIcon.Style>
                    <Style TargetType="md:PackIcon">
                        <Setter Property="Width"
                                Value="128" />
                        <Setter Property="Height"
                                Value="128" />
                        <Setter Property="Opacity"
                                Value="0" />
                        <Setter Property="IsHitTestVisible"
                                Value="False" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsPaused}"
                                         Value="True">
                                <DataTrigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Duration="0:0:0.150"
                                                             To="1"
                                                             Storyboard.TargetProperty="Opacity" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.EnterActions>
                                <DataTrigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Duration="0:0:0.150"
                                                             To="0"
                                                             Storyboard.TargetProperty="Opacity" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </DataTrigger.ExitActions>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </md:PackIcon.Style>
            </md:PackIcon>
            <md:PackIcon Kind="VideoOff"
                         Visibility="{Binding IsFailed,Converter={StaticResource BoolToVisibilityConverter}}"
                         VerticalAlignment="Center"
                         HorizontalAlignment="Center">
                <md:PackIcon.Style>
                    <Style TargetType="md:PackIcon">
                        <Setter Property="Width"
                                Value="128" />
                        <Setter Property="Height"
                                Value="128" />
                        <Setter Property="IsHitTestVisible"
                                Value="False" />
                    </Style>
                </md:PackIcon.Style>
            </md:PackIcon>
            <ProgressBar VerticalAlignment="Center"
                         Width="64"
                         Height="64"
                         HorizontalAlignment="Center"
                         Foreground="YellowGreen"
                         IsIndeterminate="True">
                <ProgressBar.Style>
                    <Style TargetType="ProgressBar"
                           BasedOn="{StaticResource MaterialDesignCircularProgressBar}">
                        <Setter Property="Visibility"
                                Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding IsInitializing}"
                                         Value="True">
                                <Setter Property="Visibility"
                                        Value="Visible" />
                            </DataTrigger>
                            <DataTrigger Binding="{Binding IsBuffering}"
                                         Value="True">
                                <Setter Property="Visibility"
                                        Value="Visible" />
                            </DataTrigger>
                            <MultiDataTrigger>
                                <MultiDataTrigger.Conditions>
                                    <Condition Binding="{Binding IsInitializing}"
                                               Value="True" />
                                    <Condition Binding="{Binding IsBuffering}"
                                               Value="True" />
                                </MultiDataTrigger.Conditions>
                                <Setter Property="Visibility"
                                        Value="Visible" />
                            </MultiDataTrigger>
                        </Style.Triggers>
                    </Style>
                </ProgressBar.Style>
            </ProgressBar>
        </Grid>
    </DataTemplate>
    <ControlTemplate x:Key="VIDEO_PLAYER_EMPTY_TEMPLATE">
        <Grid>
            <md:PackIcon Kind="Fullscreen"
                         Foreground="White"
                         VerticalAlignment="Center"
                         HorizontalAlignment="Center"
                         Width="128"
                         Height="128" />
        </Grid>
    </ControlTemplate>
    <Style TargetType="ContentControl"
           x:Key="MEDIA_CONTETNT_CONTROL"
           BasedOn="{StaticResource {x:Type ContentControl}}">
        <Style.Triggers>
            <DataTrigger Binding="{Binding IsFullScreen}"
                         Value="Ture">
                <Setter Property="Content"
                        Value="{x:Null}" />
                <Setter Property="ContentTemplate"
                        Value="{x:Null}" />
            </DataTrigger>
            <DataTrigger Binding="{Binding RelativeSource={x:Static RelativeSource.Self}, Path=Content}"
                         Value="{x:Null}">
                <Setter Property="ContentControl.Template"
                        Value="{StaticResource VIDEO_PLAYER_EMPTY_TEMPLATE}" />
            </DataTrigger>
            <DataTrigger Binding="{Binding IsFullScreen}"
                         Value="False">
                <Setter Property="Content"
                        Value="{Binding}" />
                <Setter Property="ContentTemplate"
                        Value="{StaticResource VIDEO_PLAYER_TEMPLATE}" />
            </DataTrigger>
        </Style.Triggers>
    </Style>
</ResourceDictionary>